<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKIAA å­¦å‘˜å•é£å‰å¿…çŸ¥å¿…ä¼šæµ‹éªŒ</title>
    <style>
        /* --- åŸºç¡€æ ·å¼ --- */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f6f8; color: #333; line-height: 1.6; margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        
        h1 { text-align: center; color: #003366; margin-bottom: 10px; font-size: 1.6rem; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 0.95rem; border-bottom: 2px solid #003366; padding-bottom: 15px; }

        /* å§“åè¾“å…¥åŒº */
        .info-section { background-color: #e8f4fd; padding: 20px; border-radius: 8px; margin-bottom: 30px; border-left: 5px solid #003366; }
        .input-group label { font-weight: bold; color: #003366; margin-right: 10px; font-size: 1.1rem; }
        .input-group input { padding: 10px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem; width: 60%; max-width: 300px; }

        /* é¢˜ç›®å¡ç‰‡ */
        .question-card { margin-bottom: 25px; padding: 20px; border: 1px solid #e0e0e0; border-radius: 8px; background-color: #fff; transition: box-shadow 0.3s; break-inside: avoid; }
        .question-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.05); }
        
        /* é¢˜ç›®æ ‡ç­¾ */
        .tag { display: inline-block; background-color: #e8f0fe; color: #1967d2; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; margin-bottom: 8px; font-weight: bold; }

        .question-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px; }
        .question-text { font-size: 1.1rem; font-weight: 600; color: #2c3e50; width: 80%; }
        
        /* æç¤ºæŒ‰é’®ä¸åŒºåŸŸ */
        .btn-hint { background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba; padding: 5px 10px; font-size: 0.85rem; border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 5px; transition: all 0.2s; white-space: nowrap; }
        .btn-hint:hover { background-color: #ffeeba; }
        .hint-box { display: none; margin-top: 10px; padding: 10px; background-color: #fffbf2; border-left: 3px solid #ffc107; color: #666; font-size: 0.9rem; font-style: italic; }

        /* é€‰é¡¹ */
        .options label { display: block; padding: 12px 15px; margin-bottom: 8px; border: 1px solid #ddd; border-radius: 6px; cursor: pointer; transition: all 0.2s; position: relative; }
        .options label:hover { background-color: #f8f9fa; border-color: #b0c4de; }
        .options input { margin-right: 12px; transform: scale(1.2); }

        /* æŒ‰é’®ç»„ */
        .btn-submit { display: block; width: 100%; padding: 15px; background-color: #003366; color: white; font-size: 1.1rem; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; margin-top: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: background 0.3s; }
        .btn-submit:hover { background-color: #002244; }

        /* ç»“æœåŒºåŸŸ */
        #result-area { display: none; margin-top: 30px; padding: 30px; background-color: #fff; border-radius: 10px; border: 2px solid #003366; text-align: center; position: relative; }
        .report-header { border-bottom: 1px dashed #ccc; padding-bottom: 15px; margin-bottom: 15px; }
        .student-name-display { font-size: 1.5rem; font-weight: bold; color: #003366; margin-bottom: 5px; }
        .report-date { color: #666; font-size: 0.9rem; }
        .score-num { font-size: 3rem; font-weight: bold; color: #d32f2f; margin: 10px 0; }
        .badge { display: inline-block; padding: 5px 15px; background: #003366; color: white; border-radius: 20px; font-size: 0.9rem; margin-top: 10px; }
        
        /* çŸ¥è¯†ç‚¹åˆ†ææ¡æ ·å¼ */
        .analysis-box { background: #f8f9fa; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px; margin-top: 20px; text-align: left; }
        .analysis-item { margin-bottom: 15px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
        .cat-name { font-weight: bold; width: 100%; margin-bottom: 5px; font-size: 0.95rem; color: #444; }
        .progress-container { flex-grow: 1; height: 12px; background-color: #e9ecef; border-radius: 6px; margin-right: 15px; overflow: hidden; }
        .progress-bar { height: 100%; border-radius: 6px; transition: width 1s ease-in-out; }
        .status-tag { font-size: 0.85rem; font-weight: bold; min-width: 90px; text-align: right; }

        /* åé¦ˆæ ·å¼ */
        .feedback { display: none; margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-radius: 6px; font-size: 0.95rem; text-align: left; }
        .correct-bg { background-color: #d4edda !important; border-color: #c3e6cb !important; -webkit-print-color-adjust: exact; }
        .wrong-bg { background-color: #f8d7da !important; border-color: #f5c6cb !important; -webkit-print-color-adjust: exact; }
        .status-correct { color: #155724; font-weight: bold; margin-bottom: 5px; }
        .status-wrong { color: #721c24; font-weight: bold; margin-bottom: 5px; }
        .rationale { color: #555; margin-top: 5px; line-height: 1.5; }

        /* æ‰“å°é€‚é… */
        @media print {
            .btn-submit, .btn-hint, .info-section { display: none; }
            #result-area { display: block !important; border: 2px solid #000; page-break-after: always; }
            .hint-box { display: none !important; }
            .container { box-shadow: none; border: none; width: 100%; padding: 0; }
            .question-card { break-inside: avoid; border-bottom: 1px solid #ccc; margin-bottom: 10px; }
            .analysis-box { border: 1px solid #000; }
            .progress-bar { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>âœˆï¸ HKIAA å­¦å‘˜å•é£å‰å¿…çŸ¥å¿…ä¼šæµ‹éªŒ</h1>
    <div class="subtitle">å…± 20 é¢˜ Â· æ™ºèƒ½åˆ†æç‰ˆ Â· 80åˆ†åˆæ ¼</div>
    
    <div class="info-section">
        <div class="input-group">
            <label for="studentName">å­¦å‘˜å§“å:</label>
            <input type="text" id="studentName" placeholder="Please enter your name" required>
        </div>
        <div style="font-size: 0.85rem; color: #666; margin-top: 8px;">* è¯·è¾“å…¥å§“åä»¥ç”ŸæˆåŒ…å«çŸ¥è¯†ç‚¹åˆ†æçš„æˆç»©æŠ¥å‘Š</div>
    </div>

    <form id="quiz-form">
        </form>

    <button type="button" class="btn-submit" onclick="submitQuiz()">æäº¤è¯•å· (Submit)</button>

    <div id="result-area">
        <div class="report-header">
            <div class="student-name-display" id="report-name">Student Name</div>
            <div class="report-date" id="report-date">Date: YYYY-MM-DD</div>
        </div>
        
        <div style="font-size: 1.1rem; color: #555;">å•é£å‰æµ‹éªŒæˆç»©å•</div>
        <div class="score-num" id="score-display">0</div>
        <div id="result-message" style="font-weight:bold; font-size: 1.1rem;"></div>
        
        <div id="pass-badge" class="badge" style="display:none;">PASS åˆæ ¼</div>

        <div class="analysis-box">
            <h3 style="margin-top:0; margin-bottom:15px; color:#333; border-bottom:1px solid #ddd; padding-bottom:10px;">ğŸ“Š çŸ¥è¯†ç‚¹æŒæ¡åˆ†æ</h3>
            <div id="analysis-content"></div>
        </div>
        
        <p style="margin-top: 20px; font-size: 0.9rem; color: #666; text-align: center;">
            (æˆªå›¾æˆ–æ‰“å°æ­¤é¡µé¢ä½œä¸ºæˆç»©è¯æ˜)<br>
            ğŸ‘‡ è¯·å‘ä¸‹æ»šåŠ¨æŸ¥çœ‹è¯¦ç»†é”™é¢˜è§£æ
        </p>
    </div>
</div>

<script>
    // 20é“é¢˜çš„å®Œæ•´æ•°æ®ï¼Œå¢åŠ äº† category å­—æ®µ
    const quizData = [
        {
            id: 1,
            category: "æ°”è±¡æ ‡å‡† (Weather)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œå­¦å‘˜è¿›è¡Œå•é£è®­ç»ƒæ—¶ï¼Œåœ°é¢é£é€Ÿï¼ˆåŒ…å«å®å†µä¸é¢„æŠ¥ï¼‰ä¸å¾—è¶…è¿‡å¤šå°‘ï¼Ÿ",
            options: ["5 ç±³/ç§’", "8 ç±³/ç§’", "10 ç±³/ç§’", "12 ç±³/ç§’"],
            correct: 1,
            hint: "è¯·åŒºåˆ†å•é£å­¦å‘˜ä¸æœºé•¿è®­ç»ƒçš„é£é€Ÿæ ‡å‡†ï¼Œå•é£çš„æ ‡å‡†æ›´ä¸ºä¸¥æ ¼ã€‚",
            rationale: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ç¬¬3ç‚¹ï¼Œå•é£è®­ç»ƒçš„åœ°é¢é£é€Ÿæ ‡å‡†ä¸ºä¸è¶…è¿‡ 8 m/sï¼ˆæœºé•¿è®­ç»ƒä¸º 10 m/sï¼‰ã€‚"
        },
        {
            id: 2,
            category: "æ°”è±¡æ ‡å‡† (Weather)",
            question: "å¯¹äºSR-20æœºå‹ï¼Œè‹¥POHè§„å®šçš„æœ€å¤§æ¼”ç¤ºä¾§é£åˆ†é‡ä¸º20èŠ‚ï¼Œæ ¹æ®å¤§é˜Ÿè§„å®šï¼Œå­¦å‘˜å•é£æ—¶çš„ä¾§é£åˆ†é‡ä¸å¾—è¶…è¿‡å¤šå°‘ï¼Ÿ",
            options: ["5 èŠ‚", "10 èŠ‚", "15 èŠ‚", "20 èŠ‚"],
            correct: 1,
            hint: "å¤§é˜Ÿè§„å®šå•é£å­¦å‘˜çš„ä¾§é£é™åˆ¶æ˜¯æœºå‹æœ€å¤§æ¼”ç¤ºä¾§é£åˆ†é‡çš„1/2ã€‚",
            rationale: "ä¾æ®ï¼šå•é£ä¾§é£åˆ†é‡ä¸å¾—è¶…è¿‡POH/AFMä¸­æœ€å¤§æ¼”ç¤ºä¾§é£åˆ†é‡çš„ä¸€åŠã€‚20èŠ‚çš„ä¸€åŠå³ä¸º10èŠ‚ã€‚"
        },
        {
            id: 3,
            category: "æ°”è±¡æ ‡å‡† (Weather)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œå­¦å‘˜åœ¨æœ¬åœºæ˜¼é—´è¿›è¡Œç›®è§†é£è¡Œè§„åˆ™ï¼ˆVFRï¼‰å•é£æ—¶ï¼Œæœ€ä½æ°”è±¡æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ",
            options: ["äº‘é«˜ â‰¥ 450ç±³ï¼Œèƒ½è§åº¦ â‰¥ 3å…¬é‡Œ", "äº‘é«˜ â‰¥ 600ç±³ï¼Œèƒ½è§åº¦ â‰¥ 5å…¬é‡Œ", "äº‘é«˜ â‰¥ 1000ç±³ï¼Œèƒ½è§åº¦ â‰¥ 8å…¬é‡Œ", "äº‘é«˜ â‰¥ 1000ç±³ï¼Œèƒ½è§åº¦ â‰¥ 10å…¬é‡Œ"],
            correct: 1,
            hint: "è¯·å›å¿†æœ¬åœºæ˜¼é—´é£è¡Œä¸è½¬åœºæˆ–å¤œé—´é£è¡Œçš„æ°”è±¡æ ‡å‡†åŒºåˆ«ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ç¬¬3ç‚¹ï¼Œæœ¬åœºæ˜¼é—´é£è¡Œçš„è¦æ±‚æ˜¯äº‘é«˜ â‰¥ 600 mï¼Œèƒ½è§åº¦ â‰¥ 5 kmã€‚"
        },
        {
            id: 4,
            category: "é£è¡Œæ“çºµä¸åå·® (Maneuvers)",
            question: "åœ¨ç€é™†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé£æœºå‡ºç°â€œæ‹‰é£˜â€ç°è±¡ä¸”é«˜åº¦è¶…è¿‡2ç±³ï¼Œå­¦å‘˜åº”é‡‡å–ä»€ä¹ˆæªæ–½ï¼Ÿ",
            options: ["æ¨æ†ä¿®æ­£ï¼Œå¼ºè¡Œç€é™†", "ä¿æŒå§¿æ€ï¼Œç­‰å¾…é£æœºè‡ªç„¶ä¸‹æ²‰", "æœæ–­å¤é£", "æ”¶å…‰æ²¹é—¨ï¼Œé€šè¿‡å·¦å³è¹¬èˆµå¢åŠ é˜»åŠ›"],
            correct: 2,
            hint: "å½“æ‹‰é£˜é«˜åº¦è¿‡é«˜ï¼Œä¿®æ­£å˜å¾—å›°éš¾ä¸”ä¸å®‰å…¨æ—¶ï¼Œæœ€å®‰å…¨çš„é€‰æ‹©æ˜¯ä»€ä¹ˆï¼Ÿ",
            rationale: "ä¾æ®ï¼šä¸Šé£˜è¶…è¿‡2måº”æœæ–­å¤é£ï¼ˆåŠ æ²¹é—¨ã€çœ‹å¥½åœ°é¢ã€ç¨³ä½æ†ï¼‰ã€‚æ¨æ†æˆ–ç›²ç›®ç­‰å¾…å¯èƒ½å¯¼è‡´é‡ç€é™†ã€‚"
        },
        {
            id: 5,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œåœ¨å•é£å‰12å°æ—¶å†…ç¦æ­¢ä»€ä¹ˆè¡Œä¸ºï¼Ÿ",
            options: ["å‰§çƒˆè¿åŠ¨", "é¥®ç”¨å’–å•¡", "é¥®é…’æˆ–å«æœ‰é…’ç²¾çš„é¥®æ–™", "è§‚çœ‹ç”µå­å±å¹•"],
            correct: 2,
            hint: "è¿™æ˜¯ä¸€ç§ä¼šä¸¥é‡å½±å“é£è¡Œå‘˜åˆ¤æ–­åŠ›å’Œååº”èƒ½åŠ›çš„ç”Ÿç†æ‘„å…¥è¡Œä¸ºã€‚",
            rationale: "ä¾æ®ï¼šç¬¬2.2æ¡â€œç¦æ­¢çš„è¡Œä¸ºâ€ï¼Œé£è¡Œå‰12å°æ—¶å†…ç¦æ­¢é¥®é…’æˆ–å«æœ‰é…’ç²¾çš„é¥®æ–™ã€‚"
        },
        {
            id: 6,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "å¦‚æœSR-20é£æœºçš„èˆ±é—¨åœ¨é£è¡Œä¸­æ„å¤–å¼¹å¼€ï¼Œå­¦å‘˜åº”å¦‚ä½•å¤„ç½®ï¼Ÿ",
            options: ["ç«‹å³è§£å¼€å®‰å…¨å¸¦ï¼Œå°è¯•ç”¨åŠ›å…³é—­èˆ±é—¨", "ä¿æŒé£æœºçŠ¶æ€ï¼Œè°ƒæ•´ç©ºé€Ÿï¼ˆ90-95èŠ‚ï¼‰ï¼ŒæŠ¥å‘Šç®¡åˆ¶å¹¶å°½å¿«ç€é™†", "ç«‹å³æ‰§è¡ŒCAPSç¨‹åº", "è¿›è¡Œæ€¥è½¬å¼¯ä»¥åˆ©ç”¨ç¦»å¿ƒåŠ›å…³é—­èˆ±é—¨"],
            correct: 1,
            hint: "èˆ±é—¨å¼¹å¼€ä¸»è¦å½±å“å™ªéŸ³å’Œå¿ƒç†ï¼Œå¯¹é£è¡Œæ€§èƒ½å½±å“æœ‰é™ï¼Œé¦–è¦ä»»åŠ¡æ˜¯æ§åˆ¶é£æœºã€‚",
            rationale: "ä¾æ®ï¼šå®‰å…¨ç®¡æ§æªæ–½æŒ‡å‡ºï¼Œæœ¬åœºé£è¡Œèˆ±é—¨æ„å¤–å¼¹å¼€ï¼Œåº”æ§åˆ¶å¥½é£æœºçŠ¶æ€ï¼Œè°ƒæ•´é£æœºç©ºé€Ÿï¼ˆå…‰æ´å¤–å½¢90-95èŠ‚ï¼‰ï¼ŒæŠ¥å‘Šç®¡åˆ¶å¹¶å°½å¿«ç€é™†ã€‚"
        },
        {
            id: 7,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œç”±äºå¤©æ°”åŸå› ã€æœºæ¢°æ•…éšœæˆ–å­¦å‘˜å¿ƒç†ã€èº«ä½“æŠ€æœ¯ç­‰åŸå› ï¼Œå¯¹ç»§ç»­æ‰§è¡Œé£è¡Œä»»åŠ¡ç¼ºä¹ä¿¡å¿ƒæˆ–ä¸èƒ½ç»§ç»­æ‰§è¡Œæ—¶ï¼Œå­¦å‘˜åº”å¦‚ä½•åšï¼Ÿ",
            options: ["è‡ªè¡Œå†³å®šæ”¹å˜èˆªçº¿é£å¾€å¤‡é™åœº", "åšæŒå®Œæˆä»»åŠ¡ä»¥é€šè¿‡è€ƒæ ¸", "æŠ¥å‘ŠæŒ‡æŒ¥å‘˜ï¼ˆæ•™å‘˜ï¼‰", "åœ¨ç©ºä¸­ç›˜æ—‹ç›´åˆ°çŠ¶æ€å¥½è½¬"],
            correct: 2,
            hint: "åœ¨é£è¡Œè®­ç»ƒä¸­ï¼Œæ²Ÿé€šå’Œå†³æ–­æ˜¯å…³é”®ï¼Œé‡åˆ°æ— æ³•å¤„ç†çš„æƒ…å†µåº”å¯»æ±‚åœ°é¢æ”¯æŒã€‚",
            rationale: "ä¾æ®ï¼šã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹3.4.3 E.dç« èŠ‚ï¼Œæ•™å‘˜/å­¦å‘˜åº”åœ¨ç¼ºä¹ä¿¡å¿ƒæˆ–ä¸èƒ½ç»§ç»­æ—¶æŠ¥å‘ŠæŒ‡æŒ¥å‘˜ã€‚"
        },
        {
            id: 8,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹åŠCCAR-61éƒ¨è¦æ±‚ï¼Œå•é£å­¦å‘˜ä¸¥ç¦å®æ–½ä»¥ä¸‹å“ªç§è¡Œä¸ºï¼Ÿ",
            options: ["åœ¨æ•™å‘˜ç›‘ç£ä¸‹è¿›è¡Œèµ·è½èˆªçº¿é£è¡Œ", "æ­è½½å…¶ä»–æˆå‘˜", "ä½¿ç”¨æ— çº¿ç”µä¸å¡”å°é€šè¯", "åœ¨ç›®è§†æ°”è±¡æ¡ä»¶ä¸‹é£è¡Œ"],
            correct: 1,
            hint: "å­¦ç”Ÿé©¾é©¶å‘˜æ‰§ç…§çš„é™åˆ¶ä¹‹ä¸€æ˜¯å…³äºâ€œè½½äººâ€çš„è§„å®šã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹2.2æ¡åŠCCAR-61éƒ¨è¦æ±‚ï¼Œå­¦ç”Ÿé©¾é©¶å‘˜å•é£æ—¶ç¦æ­¢æ­è½½å…¶ä»–æˆå‘˜ï¼ˆåŒ…æ‹¬æ—…å®¢æˆ–å…¶ä»–å­¦å‘˜ï¼‰ã€‚"
        },
        {
            id: 9,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "å…³äºSR-20 G6é£æœºçš„CAPSï¼ˆæ•´æœºé™è½ä¼ç³»ç»Ÿï¼‰å¯åŠ¨ï¼Œå»ºè®®çš„å†³æ–­é«˜åº¦æ˜¯å¤šå°‘ï¼Ÿ",
            options: ["çœŸé«˜ 500 è‹±å°º", "çœŸé«˜ 1000 è‹±å°º", "çœŸé«˜ 2000 è‹±å°º", "çœŸé«˜ 5000 è‹±å°º"],
            correct: 2,
            hint: "è¿™ä¸ªé«˜åº¦æ˜¯ç³»ç»Ÿè¯„ä¼°ç´§æ€¥æƒ…å†µå’Œå¿…é¡»ç«‹å³å¯åŠ¨CAPSçš„åˆ†ç•Œçº¿ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹SR-20æœºå‹ç‰¹ç‚¹éƒ¨åˆ†ï¼Œå°†çœŸé«˜2000è‹±å°ºä½œä¸ºå†³æ–­é«˜åº¦æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚åœ¨æ­¤é«˜åº¦ä»¥ä¸‹å¿…é¡»ç«‹å³åšå‡ºå†³å®šã€‚"
        },
        {
            id: 10,
            category: "é£è¡Œæ“çºµä¸åå·® (Maneuvers)",
            question: "åœ¨ç€é™†è¿‡ç¨‹ä¸­å‘ç”Ÿâ€œæµ·è±šè·³â€ï¼ˆè¿ç»­è·³è·ƒï¼‰ï¼Œå­¦å‘˜åº”é‡‡å–çš„æœ€å®‰å…¨æªæ–½æ˜¯ä»€ä¹ˆï¼Ÿ",
            options: ["ç”¨åŠ›æ¨æ†åˆ¶æ­¢è·³è·ƒ", "ç¨³ä½æ†ä¸åŠ¨", "åŠ æ²¹é—¨å¤é£ï¼ŒåŒæ—¶ç¨³ä½æ†ï¼ˆç»·ä½ï¼‰", "å®Œå…¨æ”¶å…‰æ²¹é—¨å¹¶æ‹‰æ†åˆ°åº•"],
            correct: 2,
            hint: "å½“ç€é™†å˜å¾—ä¸ç¨³å®šä¸”å±é™©æ—¶ï¼Œå”¯ä¸€çš„å‡ºè·¯æ˜¯å›åˆ°ç©ºä¸­ã€‚",
            rationale: "ä¾æ®ï¼šæµ·è±šè·³æˆ–è¿ç»­è·³è·ƒæ—¶åº”æœæ–­å¤é£ï¼ŒåŠ¨ä½œè¦é¢†æ˜¯åŠ æ²¹é—¨ã€ç¨³ä½æ†ï¼ˆç»·ä½ï¼‰ã€‚æ¨æ†ä¼šå¯¼è‡´æ›´ä¸¥é‡çš„è·³è·ƒæˆ–å‰è½®æŠ˜æ–­ã€‚"
        },
        {
            id: 11,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œå¦‚æœåœ¨é£è¡Œä¸­æ— çº¿ç”µé€šä¿¡å®Œå…¨å¤±æ•ˆï¼Œä¸”åœ¨ç›®è§†é£è¡Œè§„åˆ™ï¼ˆVFRï¼‰æ¡ä»¶ä¸‹ï¼Œå­¦å‘˜åº”å½“ï¼š",
            options: ["ç«‹å³åœ¨æ­¤å¤„ç›˜æ—‹ç­‰å¾…æ•‘æ´", "ä¿æŒVFRé£è¡Œï¼Œé£å¾€æœ€è¿‘çš„åˆé€‚æœºåœºå¹¶å°½å¿«ç€é™†", "ç›²ç›®ä¸Šå‡é«˜åº¦å¯»æ‰¾ä¿¡å·", "æŒ‰åŸè®¡åˆ’ç»§ç»­é£è¡Œç›´åˆ°ç›®çš„åœ°"],
            correct: 1,
            hint: "åœ¨å¤±å»è”ç»œä¸”å¤©æ°”è‰¯å¥½çš„æƒ…å†µä¸‹ï¼Œé¦–è¦ä»»åŠ¡æ˜¯å®‰å…¨è½åœ°ã€‚",
            rationale: "ä¾æ®ï¼šã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹3.9.6 Bæ¡æ¬¾ï¼Œåœ¨ç›®è§†é£è¡Œæ—¶ï¼Œåº”ä¿æŒVFRé£è¡Œï¼Œé€‰æ‹©æœ€è¿‘æœºåœºå¹¶å°½å¿«ç€é™†ã€‚"
        },
        {
            id: 12,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "å•é£å­¦å‘˜åœ¨é£è¡Œä¸­è¯¯è§¦ELTï¼ˆåº”æ€¥å®šä½å‘å°„æœºï¼‰å¼€å…³å¯¼è‡´å…¶å‘å°„ä¿¡å·ï¼Œæ­£ç¡®çš„å¤ä½æ“ä½œæ˜¯ï¼š",
            options: ["ä¸åšä»»ä½•å¤„ç†", "å°†è¿œè·å¼€å…³ç½®äºONä½1ç§’åå†æ‰³å›ARMä½", "ç«‹å³å…³é—­é£æœºæ€»ç”µæº", "é€šè¿‡æ— çº¿ç”µå‘¼å«å¡”å°è¯·æ±‚å…³é—­"],
            correct: 1,
            hint: "å¤ä½ELTéœ€è¦ä¸€ä¸ªç‰¹å®šçš„å¼€å…³æ“ä½œåºåˆ—ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ELTé˜²è¯¯è§¦ä¸“é¡¹åŸ¹è®­ï¼Œå‘å°„æœºæ¿€æ´»åçš„å¤ä½æ“ä½œæ˜¯å°†è¿œè·å¼€å…³ç½®äºâ€œONâ€ä½ï¼Œ1ç§’åå†æ‰³å›â€œARMâ€ä½ã€‚"
        },
        {
            id: 13,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œä¸¤æ¶é£æœºåœ¨åŒä¸€é«˜åº¦å¯¹å¤´ç›¸é‡æ—¶ï¼Œåº”å¦‚ä½•é¿è®©ï¼Ÿ",
            options: ["å„è‡ªå‘å·¦è½¬", "å„è‡ªå‘å³è½¬ï¼Œä¿æŒ500ç±³ä»¥ä¸Šé—´éš”", "ä¸Šå‡é«˜åº¦é¿è®©", "ä¸‹é™é«˜åº¦é¿è®©"],
            correct: 1,
            hint: "èˆªç©ºé¿è®©è§„åˆ™é€šå¸¸éµå¾ªâ€œå³è¡Œâ€åŸåˆ™ã€‚",
            rationale: "ä¾æ®ï¼šã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹3.2.8 Cæ¡æ¬¾ï¼Œå¯¹å¤´ç›¸é‡æ—¶ï¼Œå„è‡ªå‘å³è½¬ï¼Œä¿æŒ500ç±³ä»¥ä¸Šé—´éš”ã€‚"
        },
        {
            id: 14,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "å•é£å­¦å‘˜åœ¨èµ·é£æ»‘è·‘é˜¶æ®µï¼Œå¦‚æœé‡åˆ°èˆ±é—¨æ„å¤–å¼¹å¼€ï¼Œåº”é‡‡å–ä»€ä¹ˆæªæ–½ï¼Ÿ",
            options: ["è‹¥å‰©ä½™è·‘é“è¶³å¤Ÿï¼Œåº”ä¸­æ–­èµ·é£", "æ— è®ºè·‘é“é•¿çŸ­ï¼Œå¿…é¡»å¼ºè¡Œèµ·é£", "ä¸€è¾¹æ»‘è·‘ä¸€è¾¹å°è¯•å…³é—¨", "ç«‹å³æ‹‰æ†ç¦»åœ°"],
            correct: 0,
            hint: "åœ¨åœ°é¢å‘ç°é—®é¢˜ä¸”æœ‰æ¡ä»¶åœä¸‹æ¥æ—¶ï¼Œæœ€å®‰å…¨çš„é€‰æ‹©æ˜¯ä»€ä¹ˆï¼Ÿ",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ç®¡æ§æªæ–½ï¼Œèµ·é£æ»‘è·‘é˜¶æ®µèˆ±é—¨å¼¹å¼€ï¼Œè‹¥å‰©ä½™è·‘é“è¶³å¤Ÿåº”ä¸­æ–­èµ·é£ã€‚"
        },
        {
            id: 15,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œå•é£å­¦å‘˜åœ¨ç›®è§†é£è¡Œï¼ˆVFRï¼‰æ—¶ï¼Œå…³äºäº‘çš„é™åˆ¶æ˜¯ï¼š",
            options: ["å¯ä»¥çŸ­æ—¶é—´è¿›å…¥äº‘ä¸­", "å¯ä»¥é£è¶Šäº‘å±‚ä¸Šæ–¹", "ä¸¥ç¦é£å…¥äº‘ä¸­", "åªè¦èƒ½è§åº¦å¥½ï¼Œè¿›äº‘ä¹Ÿæ²¡å…³ç³»"],
            correct: 2,
            hint: "å•é£æ˜¯åŸºäºç›®è§†å‚è€ƒçš„é£è¡Œï¼Œå¤±å»ç›®è§†å‚è€ƒï¼ˆå…¥äº‘ï¼‰æ˜¯ä¸¥æ ¼ç¦æ­¢çš„ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹2.2æ¡åŠCCAR-61éƒ¨é™åˆ¶ï¼Œç¦æ­¢é£å…¥äº‘ä¸­ï¼Œå¿…é¡»ä¿æŒç›®è§†åœ°æ ‡ã€‚"
        },
        {
            id: 16,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "åœ¨å•é£è®­ç»ƒä¸­ï¼Œä»¥ä¸‹å“ªé¡¹è¡Œä¸ºæ˜¯è¢«å¤§é˜Ÿæ˜ç¡®ç¦æ­¢çš„ï¼Ÿ",
            options: ["åœ¨è§„å®šçš„ç©ºåŸŸå†…åšå¤§å¡åº¦ç›˜æ—‹ï¼ˆéç‰¹æŠ€ï¼‰", "æ‰§è¡ŒæœºåŠ¨ç§‘ç›®", "ç»ƒä¹ æ­£å¸¸çš„èµ·è½èˆªçº¿", "ä½¿ç”¨æ£€æŸ¥å•"],
            correct: 1,
            hint: "å•é£çš„ä¸»è¦ç›®çš„æ˜¯å·©å›ºèµ·é™å’ŒåŸºæœ¬æ“çºµï¼Œå¤æ‚çš„æœºåŠ¨åŠ¨ä½œå¾€å¾€è¢«ç¦æ­¢ä»¥ç¡®ä¿å®‰å…¨ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹1.1æ¡ï¼šä¸¥ä»¤ç¦æ­¢å¤§é˜Ÿå•é£å­¦å‘˜åœ¨è¿‡ç¨‹ä¸­æ‰§è¡ŒæœºåŠ¨ç§‘ç›®ã€‚"
        },
        {
            id: 17,
            category: "SR-20ç³»ç»Ÿä¸ç‰¹æƒ… (SR-20/Emergency)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œå¦‚æœåœ¨åœ°é¢æ»‘è¡Œæ—¶å‘ç”Ÿç”±äºäººä¸ºæ“ä½œå¤±è¯¯å¯¼è‡´ELTå‘å°„ï¼ŒæœºåŠ¡äººå‘˜åœ¨æ— æ³•é€šè¿‡å¼€å…³å¤ä½æ—¶ï¼Œå¯é‡‡å–çš„æœ€ç»ˆæ‰‹æ®µæ˜¯ï¼š",
            options: ["åˆ‡æ–­é£æœºç‡ƒæ²¹", "æ‹†é™¤ELTç”µæ± ", "ç”¨é‡‘å±ç½©é®æŒ¡å¤©çº¿", "ç­‰å¾…ç”µæ± è€—å°½"],
            correct: 1,
            hint: "è¿™æ˜¯ç‰©ç†åˆ‡æ–­ç”µæºçš„æœ€åæ‰‹æ®µï¼Œé€šå¸¸ç”±æœºåŠ¡æ‰§è¡Œã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ELTéƒ¨åˆ†ï¼Œå½“ä¸Šè¿°æ–¹æ³•å¤±æ•ˆæ—¶ï¼Œå¯é€šè¿‡æ‹†é™¤ELTç”µæ± å…³é—­å‘å°„æœºï¼ˆä»…é€‚ç”¨äºæœºåŠ¡äººå‘˜ï¼‰ã€‚"
        },
        {
            id: 18,
            category: "é£è¡Œæ“çºµä¸åå·® (Maneuvers)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œåœ¨ç€é™†åå·®ä¿®æ­£ä¸­ï¼Œå¦‚æœå‘ç°é£æœºæœ‰â€œæ‹‰å¹³é«˜â€çš„è¶‹åŠ¿ï¼Œåº”å¦‚ä½•å¤„ç½®ï¼Ÿ",
            options: ["å¿«é€Ÿæ¨æ†å¯»æ‰¾åœ°é¢", "é€‚å½“å‡æ…¢æˆ–åœæ­¢å¸¦æ†ï¼Œä½¿é£æœºåœ¨1ç±³é«˜åº¦æ‹‰å¹³", "ç«‹å³æ‹‰æ†åˆ°åº•", "æ”¶æ²¹é—¨å¹¶è¹¬èˆµ"],
            correct: 1,
            hint: "ä¿®æ­£æ˜¯ä¸ºäº†è®©é£æœºå›åˆ°æ­£ç¡®çš„æ‹‰å¹³é«˜åº¦ï¼Œè€Œä¸æ˜¯ç²—çŒ›åœ°æ”¹å˜å§¿æ€ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ç€é™†åå·®æ•™å­¦ï¼Œå‘ç°æ‹‰å¹³é«˜è¶‹åŠ¿åº”é€‚å½“å‡æ…¢æˆ–åœæ­¢å¸¦æ†ï¼Œä½¿é£æœºä»åœ¨1ç±³çš„é«˜åº¦ä¸Šæ‹‰å¹³ã€‚"
        },
        {
            id: 19,
            category: "æ³•è§„ä¸é™åˆ¶ (Regulations)",
            question: "æ ¹æ®ã€Šé£è¡Œè¿è¡Œæ‰‹å†Œã€‹ï¼Œå•é£å­¦å‘˜å¿…é¡»éšèº«æºå¸¦çš„è¯ä»¶åŒ…æ‹¬ï¼š",
            options: ["èº«ä»½è¯å’Œå­¦ç”Ÿè¯", "æ‰§ç…§ä¸æœ‰æ•ˆä½“æ£€åˆæ ¼è¯", "é£è¡Œè®°å½•æœ¬å’Œæœºå‹æ‰‹å†Œ", "é©¾é©¶æ‰§ç…§ï¼ˆæ±½è½¦ï¼‰"],
            correct: 1,
            hint: "è¿™æ˜¯è¯æ˜ä½ å…·å¤‡é£è¡Œèµ„æ ¼å’Œèº«ä½“æ¡ä»¶çš„æ³•å¾‹æ–‡ä»¶ã€‚",
            rationale: "ä¾æ®ï¼šCCAR-61åŠã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œå•é£æœŸé—´å­¦ç”Ÿå¿…é¡»éšèº«æºå¸¦æ‰§ç…§ä¸ä½“æ£€åˆæ ¼è¯ã€‚"
        },
        {
            id: 20,
            category: "é£è¡Œæ“çºµä¸åå·® (Maneuvers)",
            question: "æ ¹æ®ã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ï¼Œå¦‚æœé£æœºåœ¨äº”è¾¹è¿›è¿‘æ—¶å‡ºç°æ‹‰å¹³ä½ï¼ˆå¼€å§‹æ‹‰å¹³æ—¶é«˜åº¦ä½äº0.75ç±³ï¼‰ï¼Œåº”é˜²æ­¢å‡ºç°ä»€ä¹ˆåæœï¼Ÿ",
            options: ["é£æœºå¤é£", "é£æœºåœ¨åˆšç»“æŸæ‹‰å¹³æ—¶é£˜èµ·", "é£æœºå†²å‡ºè·‘é“", "é£æœºæå‰æ¥åœ°"],
            correct: 1,
            hint: "å› ä¸ºæ‹‰å¹³ä½æ—¶é€šå¸¸å¸¦æ†è¾ƒå¿«ï¼Œå®¹æ˜“å¯¼è‡´é£æœºçš„å‡åŠ›çªç„¶å¢åŠ è€Œä¸Šå‡ã€‚",
            rationale: "ä¾æ®ï¼šã€Šå¤§é˜Ÿå•é£æ•™è‚²å†…å®¹ã€‹ç€é™†åå·®æ•™å­¦ï¼Œæ‹‰å¹³ä½æ—¶ä¿®æ­£åŠ¨ä½œï¼ˆå¸¦æ†ï¼‰å¿«ï¼Œåº”é˜²æ­¢é£æœºåœ¨åˆšç»“æŸæ‹‰å¹³æ—¶é£˜èµ·ã€‚"
        }
    ];

    // æ¸²æŸ“é¢˜ç›®
    const quizForm = document.getElementById('quiz-form');
    
    quizData.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'question-card';
        
        let optionsHtml = '';
        item.options.forEach((opt, optIndex) => {
            optionsHtml += `
                <label id="q${index}_opt${optIndex}">
                    <input type="radio" name="q${index}" value="${optIndex}">
                    ${String.fromCharCode(65 + optIndex)}. ${opt}
                </label>
            `;
        });

        div.innerHTML = `
            <div class="tag">${item.category}</div>
            <div class="question-header">
                <div class="question-text">${index + 1}. ${item.question}</div>
                <button type="button" class="btn-hint" onclick="toggleHint(${index})">ğŸ’¡ æ˜¾ç¤ºæç¤º</button>
            </div>
            
            <div class="hint-box" id="hint${index}">
                <strong>æç¤ºï¼š</strong>${item.hint}
            </div>

            <div class="options">${optionsHtml}</div>
            
            <div class="feedback" id="feedback${index}"></div>
        `;
        quizForm.appendChild(div);
    });

    function toggleHint(index) {
        const hintBox = document.getElementById(`hint${index}`);
        if (hintBox.style.display === 'block') {
            hintBox.style.display = 'none';
        } else {
            hintBox.style.display = 'block';
        }
    }

    function submitQuiz() {
        // 1. æ£€æŸ¥å§“å
        const nameInput = document.getElementById('studentName');
        const nameVal = nameInput.value.trim();
        if (!nameVal) {
            alert("âš ï¸ è¯·å…ˆå¡«å†™æ‚¨çš„å§“å (Please enter your name first)!");
            nameInput.focus();
            nameInput.parentElement.style.border = "2px solid #d32f2f";
            return;
        } else {
            nameInput.parentElement.style.border = "none";
        }

        let score = 0;
        let categoryStats = {};

        // 2. åˆ¤åˆ†ä¸ç»Ÿè®¡é€»è¾‘
        quizData.forEach((item, index) => {
            // åˆå§‹åŒ–åˆ†ç±»ç»Ÿè®¡
            if (!categoryStats[item.category]) {
                categoryStats[item.category] = { total: 0, correct: 0 };
            }
            categoryStats[item.category].total++;

            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const feedbackEl = document.getElementById(`feedback${index}`);
            
            feedbackEl.style.display = 'block';

            if (selected) {
                const val = parseInt(selected.value);
                if (val === item.correct) {
                    score++;
                    categoryStats[item.category].correct++;
                    feedbackEl.innerHTML = `<div class="status-correct">âœ… å›ç­”æ­£ç¡®</div><div class="rationale">${item.rationale}</div>`;
                    document.getElementById(`q${index}_opt${val}`).classList.add('correct-bg');
                } else {
                    feedbackEl.innerHTML = `<div class="status-wrong">âŒ å›ç­”é”™è¯¯</div><div class="rationale">æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${String.fromCharCode(65 + item.correct)}ã€‚<br>${item.rationale}</div>`;
                    document.getElementById(`q${index}_opt${val}`).classList.add('wrong-bg');
                    document.getElementById(`q${index}_opt${item.correct}`).classList.add('correct-bg');
                }
            } else {
                feedbackEl.innerHTML = `<div class="status-wrong">âš ï¸ æœªä½œç­”</div><div class="rationale">æ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${String.fromCharCode(65 + item.correct)}ã€‚<br>${item.rationale}</div>`;
                document.getElementById(`q${index}_opt${item.correct}`).classList.add('correct-bg');
            }
        });

        // 3. è®¡ç®—æ€»åˆ†ä¸æ˜¾ç¤ºåŸºç¡€ä¿¡æ¯
        const finalScore = Math.round((score / quizData.length) * 100);
        const resultArea = document.getElementById('result-area');
        resultArea.style.display = 'block';
        
        const now = new Date();
        const dateStr = now.getFullYear() + "-" + (now.getMonth()+1).toString().padStart(2,'0') + "-" + now.getDate().toString().padStart(2,'0') + " " + now.getHours().toString().padStart(2,'0') + ":" + now.getMinutes().toString().padStart(2,'0');
        
        document.getElementById('report-name').innerText = nameVal;
        document.getElementById('report-date').innerText = `Time: ${dateStr}`;
        document.getElementById('score-display').innerText = `${finalScore} åˆ†`;
        
        const msgDisplay = document.getElementById('result-message');
        const badge = document.getElementById('pass-badge');
        
        if (finalScore >= 80) {
            msgDisplay.innerText = "ğŸ‰ æ­å–œï¼æ‚¨å·²æŒæ¡å•é£å‰çš„å…³é”®çŸ¥è¯†ã€‚";
            msgDisplay.style.color = "#155724";
            badge.style.display = "inline-block";
            badge.style.backgroundColor = "#28a745";
            badge.innerText = "PASS åˆæ ¼";
        } else {
            msgDisplay.innerText = "âš ï¸ æˆç»©æœªè¾¾æ ‡ï¼Œè¯·é‡æ–°å¤ä¹ é”™é¢˜ï¼Œå•é£å®‰å…¨ä¸å®¹æœ‰å¤±ã€‚";
            msgDisplay.style.color = "#d32f2f";
            badge.style.display = "inline-block";
            badge.style.backgroundColor = "#d32f2f";
            badge.innerText = "FAIL ä¸åˆæ ¼";
        }

        // 4. ç”ŸæˆçŸ¥è¯†ç‚¹åˆ†æå¯è§†åŒ–æ¡
        let analysisHtml = '';
        for (let cat in categoryStats) {
            const stat = categoryStats[cat];
            const accuracy = Math.round((stat.correct / stat.total) * 100);
            
            let color = '';
            let statusText = '';
            
            if (stat.correct === stat.total) {
                color = '#28a745'; // ç»¿è‰²
                statusText = 'ğŸŒŸ å®Œå…¨æŒæ¡';
            } else if (accuracy >= 60) {
                color = '#ffc107'; // é»„è‰²
                statusText = 'ğŸ”¨ éœ€è¦å·©å›º';
            } else {
                color = '#dc3545'; // çº¢è‰²
                statusText = 'âš ï¸ é‡ç‚¹å¤ä¹ ';
            }

            analysisHtml += `
                <div class="analysis-item">
                    <div class="cat-name">${cat} <span style="font-weight:normal; color:#888; font-size:0.85em; margin-left:5px;">(ç­”å¯¹ ${stat.correct}/${stat.total})</span></div>
                    <div class="progress-container">
                        <div class="progress-bar" style="width: ${accuracy}%; background-color: ${color};"></div>
                    </div>
                    <div class="status-tag" style="color: ${color};">${statusText}</div>
                </div>
            `;
        }
        document.getElementById('analysis-content').innerHTML = analysisHtml;

        // ç¦ç”¨æäº¤æŒ‰é’®å¹¶æ»šåŠ¨
        document.querySelector('.btn-submit').style.display = 'none';
        resultArea.scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>
